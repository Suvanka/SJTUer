# 测试与部署文档

## 测试

### 背景与目的

由于本项目前后端分离，前端采用vue框架进行组件化开发，后端采用django实现各应用组件化开发，各开发组件模块相对独立，故采取的测试方式为：

- 在开发单个组件过程中，需要依据组件间接口需求，进行单元测试。
- 在完成相对独立的一个组件后，进行手动集成测试与确认测试。
- 在整体项目迭代完成时，进行验收测试。

### 测试环境

在后端中的测试主要依赖 Python 的标准模块 `unittest`， 它支持测试自动化、共享测试的设置和关闭代码、将测试聚合到集合中以及测试与报告框架的独立性。

###  相关人员

由张可言负责前端测试工作，杨伟程负责后端测试工作。

### 测试范围

后端中的单元测试范围如下：

- 数据库结构测试
- 数据库增删改查操作测试
- 模拟axios发起GET请求数据库内容
- 模拟axios发起GET请求爬虫数据内容
- 模拟axios发起GET请求后端媒体资源内容
- 模拟axios发起POST请求后端数据库内容
- 模拟axios发起POST请求后端数据库操作

组件集成测试范围为：

- 时钟组件测试
- 搜索引擎组件测试
- 网页组件测试
- Todolist组件测试
- 资讯组件测试
- 天气组件测试
- 人流量组件测试
- 壁纸组件测试
- 每日诗词测试
- 简洁模式测试
- 运行时间测试
- 安全攻击测试

### 测试时间

|      测试任务      | 计划时间  | 实际时间  |
| :----------------: | :-------: | :-------: |
|    前端单元测试    | 2023-5-24 | 2023-5-25 |
|    后端单元测试    | 2023-5-23 | 2023-5-24 |
| 集成测试与确认测试 | 2023-5-26 | 2023-5-26 |
|      系统测试      | 2023-5-27 | 2023-5-27 |


### 测试结果

后端单元中共编写了17个测试函数，每个函数包括可能的测试用例，主要在 `django/index/test.py` 中，在2.595s内得出所有测试结果，符合运行时间的测试预期。

在集成测试与确认测试、系统阶段中，项目能够按照需求与设计预期运行。

### 测试结构与缺陷分析

本项目对核心功能需求进行全面的测试，能够在合理的运行时长中得到预期的效果。

测试中仍存在一些缺陷：

- 未能测试不同版本硬件、不同版本软件包是否能够支持项目运行；
- 未能模拟真实的高数量级访问量以测试服务器运载能力；
- 未能测试在未来可能存在的API改变而导致的报错。


